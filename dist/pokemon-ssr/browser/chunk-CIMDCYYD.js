import{a as U}from"./chunk-3BMJEPIW.js";import{a as N,c as F}from"./chunk-Q6PBTEQE.js";import{$a as L,Aa as r,Ba as s,Ca as c,Da as h,Ea as I,H as S,I as b,Ia as p,Ka as M,O as a,S as C,Ta as q,X as v,aa as u,ea as m,ka as g,ma as D,na as w,o as f,sa as _,ta as j,va as E,xa as T,ya as O,za as R}from"./chunk-PK5Q5A4M.js";function y(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&C(y);let o=t?e?.injector?.get(v)??a(v):null,d=A(e?.equal),l;e?.requireSync?l=u({kind:0},{equal:d}):l=u({kind:1,value:e?.initialValue},{equal:d});let x=n.subscribe({next:i=>l.set({kind:1,value:i}),error:i=>{if(e?.rejectErrors)throw i;l.set({kind:2,error:i})}});if(e?.requireSync&&l().kind===0)throw new b(601,!1);return o?.onDestroy(x.unsubscribe.bind(x)),q(()=>{let i=l();switch(i.kind){case 1:return i.value;case 2:throw i.error;case 0:throw new b(601,!1)}},{equal:e?.equal})}function A(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function V(n,e){n&1&&(r(0,"div",1),c(1,"div",2),r(2,"div",3),c(3,"div",4),s()())}var k=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["pokemon-list-skeleton"]],decls:3,vars:0,consts:[[1,"grid","gap-3","grid-cols-1","sm:grid-cols-3","md:grid-cols-5"],[1,"bg-white/25","h-44","rounded-lg","shadow-md","flex","flex-col","justify-center","items-center","p-4","cursor-pointer"],[1,"rounded-full","animate-pulse","bg-gray-300","h-24","w-24"],[1,"flex","center","mt-5"],[1,"h-4","w-20","bg-gray-300","rounded","animate-pulse"]],template:function(t,o){t&1&&(r(0,"div",0),O(1,V,4,0,"div",1,T),s()),t&2&&(m(),R("123456789102".split("")))},encapsulation:2,changeDetection:0})};var W=()=>[import("./chunk-3BMAHASF.js").then(n=>n.PokemonListComponent)];function z(n,e){if(n&1&&c(0,"pokemon-list",6),n&2){let t=I();E("pokemons",t.pokemons())}}function G(n,e){n&1&&c(0,"pokemon-list-skeleton")}var P=class n{pokemonService=a(U);pokemons=u([]);route=a(N);router=a(F);title=a(L);currentPage=y(this.route.queryParamMap.pipe(f(e=>e.get("page")??"1"),f(e=>isNaN(+e)?1:+e),f(e=>Math.max(1,e))));ngOnInit(){console.log(this.currentPage()),this.loadPokemons()}loadPokemons(e=0){let t=this.currentPage()+e;this.pokemonService.loadPage(t).pipe(S(()=>{this.router.navigate([],{queryParams:{page:t}}),this.title.setTitle(`Pokemons Page: ${t}`),this.pokemons.set([])})).subscribe(o=>{this.pokemons.set(o)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["pokemons-page"]],decls:14,vars:2,consts:[[500],[1,"text-3xl"],[1,"text-xl"],[1,"my-2"],[1,"flex","justify-between"],[1,"mt-2",3,"click"],[3,"pokemons"]],template:function(t,o){t&1&&(r(0,"h1",1),p(1,"Listado de Pokemons"),s(),r(2,"h2",2),p(3),s(),c(4,"hr",3),D(5,z,1,1)(6,G,1,0),_(7,5,W,null,6,null,null,0,w),r(9,"div",4)(10,"button",5),h("click",function(){return o.loadPokemons(-1)}),p(11,"Anteriores"),s(),r(12,"button",5),h("click",function(){return o.loadPokemons(1)}),p(13,"Siguientes"),s()()),t&2&&(m(3),M("P\xE1gina actual: ",o.currentPage(),""),m(4),j(o.pokemons().length!==0))},dependencies:[k],encapsulation:2,changeDetection:0})};export{P as default};
